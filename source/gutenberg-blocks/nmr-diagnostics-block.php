<?php
$diagnostics = [
    "current" => [
        "title" => "Current",
        "items" => [
            [
                "title" => "Blood Pressure Sensor",
                "description" => "Cupiditate mollitia eum est ut explicabo necessitatibus. Possimus qui et porro nulla. Beatae ut magnam et labore et exercitationem incidunt alias. Veniam impedit facilis qui consequatur rerum quidem deserunt. Consequatur vero quos ipsam.",
                "marker" => [32, 59],
                "link" => [
                    "text" => "",
                    "url" => ""
                ]
            ],
            [
                "title" => "Pulse Oximeter Sensor",
                "description" => "Cupiditate mollitia eum est ut explicabo necessitatibus. Possimus qui et porro nulla. Beatae ut magnam et labore et exercitationem incidunt alias. Veniam impedit facilis qui consequatur rerum quidem deserunt. Consequatur vero quos ipsam.",
                "marker" => [85, 25],
                "link" => [
                    "text" => "",
                    "url" => ""
                ]
            ],
            [
                "title" => "Impedance Sensor",
                "description" => "Cupiditate mollitia eum est ut explicabo necessitatibus. Possimus qui et porro nulla. Beatae ut magnam et labore et exercitationem incidunt alias. Veniam impedit facilis qui consequatur rerum quidem deserunt. Consequatur vero quos ipsam.",
                "marker" => [64, 12],
                "link" => [
                    "text" => "",
                    "url" => ""
                ]
            ],
            [
                "title" => "Spirometer",
                "description" => "Cupiditate mollitia eum est ut explicabo necessitatibus. Possimus qui et porro nulla. Beatae ut magnam et labore et exercitationem incidunt alias. Veniam impedit facilis qui consequatur rerum quidem deserunt. Consequatur vero quos ipsam.",
                "marker" => [53, 41],
                "link" => [
                    "text" => "",
                    "url" => ""
                ]
            ],
            [
                "title" => "CO2 PPM",
                "description" => "Cupiditate mollitia eum est ut explicabo necessitatibus. Possimus qui et porro nulla. Beatae ut magnam et labore et exercitationem incidunt alias. Veniam impedit facilis qui consequatur rerum quidem deserunt. Consequatur vero quos ipsam.",
                "marker" => [78, 31],
                "link" => [
                    "text" => "",
                    "url" => ""
                ]
            ],
        ]
    ],
    "upcoming" => [
        "title" => "Upcoming",
        "items" => [

            [
                "title" => "Weight Scale",
                "description" => "Cupiditate mollitia eum est ut explicabo necessitatibus. Possimus qui et porro nulla. Beatae ut magnam et labore et exercitationem incidunt alias. Veniam impedit facilis qui consequatur rerum quidem deserunt. Consequatur vero quos ipsam.",
                "marker" => [76, 17],
                "link" => [
                    "text" => "",
                    "url" => ""
                ]
            ],
            [
                "title" => "3D Body Scan",
                "description" => "Cupiditate mollitia eum est ut explicabo necessitatibus. Possimus qui et porro nulla. Beatae ut magnam et labore et exercitationem incidunt alias. Veniam impedit facilis qui consequatur rerum quidem deserunt. Consequatur vero quos ipsam.",
                "marker" => [15, 48],
                "link" => [
                    "text" => "",
                    "url" => ""
                ]
            ],
            [
                "title" => "Hydrostatic Weighing",
                "description" => "Cupiditate mollitia eum est ut explicabo necessitatibus. Possimus qui et porro nulla. Beatae ut magnam et labore et exercitationem incidunt alias. Veniam impedit facilis qui consequatur rerum quidem deserunt. Consequatur vero quos ipsam.",
                "marker" => [6, 53],
                "link" => [
                    "text" => "",
                    "url" => ""
                ]
            ],
            [
                "title" => "Thermal Camera",
                "description" => "Cupiditate mollitia eum est ut explicabo necessitatibus. Possimus qui et porro nulla. Beatae ut magnam et labore et exercitationem incidunt alias. Veniam impedit facilis qui consequatur rerum quidem deserunt. Consequatur vero quos ipsam.",
                "marker" => [64, 58],
                "link" => [
                    "text" => "",
                    "url" => ""
                ]
            ],
            [
                "title" => "Collagen Sensor",
                "description" => "Cupiditate mollitia eum est ut explicabo necessitatibus. Possimus qui et porro nulla. Beatae ut magnam et labore et exercitationem incidunt alias. Veniam impedit facilis qui consequatur rerum quidem deserunt. Consequatur vero quos ipsam.",
                "marker" => [13, 55],
                "link" => [
                    "text" => "",
                    "url" => ""
                ]
            ],
            [
                "title" => "Infrared Temp Sensor",
                "description" => "Cupiditate mollitia eum est ut explicabo necessitatibus. Possimus qui et porro nulla. Beatae ut magnam et labore et exercitationem incidunt alias. Veniam impedit facilis qui consequatur rerum quidem deserunt. Consequatur vero quos ipsam.",
                "marker" => [51, 68],
                "link" => [
                    "text" => "",
                    "url" => ""
                ]
            ],
            [
                "title" => "Impedance Pneumography",
                "description" => "Cupiditate mollitia eum est ut explicabo necessitatibus. Possimus qui et porro nulla. Beatae ut magnam et labore et exercitationem incidunt alias. Veniam impedit facilis qui consequatur rerum quidem deserunt. Consequatur vero quos ipsam.",
                "marker" => [48, 38],
                "link" => [
                    "text" => "",
                    "url" => ""
                ]
            ],
            [
                "title" => "ECG Electrocardiogram",
                "description" => "Cupiditate mollitia eum est ut explicabo necessitatibus. Possimus qui et porro nulla. Beatae ut magnam et labore et exercitationem incidunt alias. Veniam impedit facilis qui consequatur rerum quidem deserunt. Consequatur vero quos ipsam.",
                "marker" => [48, 54],
                "link" => [
                    "text" => "",
                    "url" => ""
                ]
            ],
            [
                "title" => "Hydration Sensor",
                "description" => "Cupiditate mollitia eum est ut explicabo necessitatibus. Possimus qui et porro nulla. Beatae ut magnam et labore et exercitationem incidunt alias. Veniam impedit facilis qui consequatur rerum quidem deserunt. Consequatur vero quos ipsam.",
                "marker" => [59, 2],
                "link" => [
                    "text" => "",
                    "url" => ""
                ]
            ],
            [
                "title" => "Hydration Sensor",
                "description" => "Cupiditate mollitia eum est ut explicabo necessitatibus. Possimus qui et porro nulla. Beatae ut magnam et labore et exercitationem incidunt alias. Veniam impedit facilis qui consequatur rerum quidem deserunt. Consequatur vero quos ipsam.",
                "marker" => [94, 33],
                "link" => [
                    "text" => "",
                    "url" => ""
                ]
            ],
            [
                "title" => "Galvanic Skin Response Sensor",
                "description" => "Cupiditate mollitia eum est ut explicabo necessitatibus. Possimus qui et porro nulla. Beatae ut magnam et labore et exercitationem incidunt alias. Veniam impedit facilis qui consequatur rerum quidem deserunt. Consequatur vero quos ipsam.",
                "marker" => [28, 30],
                "link" => [
                    "text" => "",
                    "url" => ""
                ]
            ],
        ]
    ]
];
?>

<section>
    <div class="max-w-6xl px-5 py-20 mx-auto">
        <div class="mb-5">
            <h1 class="text-4xl">Diagnostics</h1>
        </div>
        <div class="flex flex-wrap -mx-4">
            <div class="w-full px-4 md:w-2/3">
                <div class="bg-gray-400 rounded relative" style="height:100%">
                    <div class="annotations">
                        <?php foreach ($diagnostics['current']['items'] as $key => $diagnostic) : ?>
                            <div class="annotation-box active" style="left: <?php echo $diagnostic['marker'][0] ?>%; top: <?php echo $diagnostic['marker'][1] ?>%">
                                <div class="annotation-marker"></div>
                                <div class="annotation-content-box">
                                    <div class="annotation-content">
                                        <div class="annotation-text"><?php echo $diagnostic["title"] ?></div>
                                    </div>
                                </div>
                            </div>
                        <?php endforeach; ?>
                        <?php foreach ($diagnostics['upcoming']['items'] as $key => $diagnostic) : ?>
                            <div class="annotation-box" style="left: <?php echo $diagnostic['marker'][0] ?>%; top: <?php echo $diagnostic['marker'][1] ?>%">
                                <div class="annotation-marker"></div>
                                <div class="annotation-content-box">
                                    <div class="annotation-content">
                                        <div class="annotation-text"><?php echo $diagnostic["title"] ?></div>
                                    </div>
                                </div>
                            </div>
                        <?php endforeach; ?>
                    </div>
                </div>
                <div class="mt-2 label-text text-xs">Pod Blueprint</div>
            </div>
            <div class="accordion accordion-small w-full px-4 md:w-1/3 text-sm">

                <?php foreach ($diagnostics as $key => $diagnosticGroup) : ?>

                    <div class="mb-5">

                        <div class="label-text text-xs text-gray-600 mb-2">
                            <?php echo $diagnosticGroup["title"] ?> <a href="#"><i class="ml-1 fas fa-question-circle"></i></a>
                        </div>

                        <div class="w-full">
                            <?php foreach ($diagnosticGroup["items"] as $key => $diagnostic) : ?>
                                <div class="annotation-trigger accordion-item cursor-pointer w-full">
                                    <div class="accordion-item-header">
                                        <h6 class="font-medium"><?php echo $diagnostic["title"] ?></h6>
                                    </div>
                                    <div class="accordion-item-content">
                                        <div class="accordion-item-answer">
                                            <p><?php echo $diagnostic["description"] ?></p>
                                            <a class="mt-2 inline-block text-ovalGreenDark label-text text-xs" href="">Read More <i class="ml-1 fas fa-caret-right"></i></a>
                                        </div>
                                    </div>
                                </div>
                            <?php endforeach; ?>
                        </div>

                    </div>

                <?php endforeach; ?>

            </div>
        </div>
    </div>
</section>